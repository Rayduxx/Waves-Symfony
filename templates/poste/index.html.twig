{% extends "_bases/base.html.twig" %}
{% block main %}
{% block title %}Poste index{% endblock %}

{% block body %}
    <h1>Poste index</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Idposte</th>
                <th>Titre</th>
                <th>Artiste</th>
                <th>Image</th>
                <th>Morceau</th>
                <th>Description</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for poste in postes %}
            <tr>
                <td>{{ poste.idposte }}</td>
                <td>{{ poste.titre }}</td>
                <td>{{ poste.artiste }}</td>
                <td>
                                    {% if poste.image %}
                                        <img src="{{ asset('uploads/images/' ~ poste.image) }}" alt="Image du poste {{ poste.titre }}" style="max-width: 100px; max-height: 100px;">
                                    {% else %}
                                        Pas d'image associée
                                    {% endif %}
                                </td>


                <td> {% if poste.morceau %}
                            <audio controls>
                                <source src="{{ asset('uploads/audio/' ~ poste.morceau) }}" type="audio/mp3">
                                Your browser does not support the audio element.
                            </audio>
                        {% else %}
                            Pas de morceau associé
                        {% endif %}</td>
                <td>{{ poste.description }}</td>
                <td>
                    <a href="{{ path('app_poste_show', {'idposte': poste.idposte}) }}">show</a>
                    <a href="{{ path('app_poste_edit', {'idposte': poste.idposte}) }}">edit</a>
                    {{ include('poste/_delete_form.html.twig') }}

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_poste_new') }}">Create new</a>
     <a href="{{ path('app_posteFront_index') }}">LISTE DES POSTES</a>



{% endblock %}
{% endblock %}